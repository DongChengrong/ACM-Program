#include<stdio.h>
#include<algorithm>
using namespace std;

const int maxn = 4000 + 10;
int A[maxn],B[maxn],C[maxn],D[maxn],AB[maxn],CD[maxn];

int main()
{
    int T;
    scanf("%d",&T);
    while(T--)
    {
        int line,n = 0;
        scanf("%d",&line);
        for(int i = 0; i < line; i++)
            scanf("%d %d %d %d",&A[i],&B[i],&C[i],&D[i]);

        for(int i = 0; i < line; i++)
        {
            for(int j = 0; j < line; j++)
            {
                AB[n] = A[i] + B[j];
                CD[n++] = C[i] + D[j];
            }
        }

        sort(AB, AB + n);
        sort(CD, CD + n);

        int count = 0;
        for(int i = 0; i < n; i++)
        {
            for(int j = 0; j <= n; j++)
            {
                if(AB[i] + CD[j] == 0) count++;
                if(AB[i] + CD[j] > 0) break;
            }
        }
        printf("%d\n",count);
    }
    return 0;
}
